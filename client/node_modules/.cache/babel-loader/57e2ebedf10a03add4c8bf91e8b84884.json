{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { createElement as $, useEffect } from 'react'; // RRD\n\nimport { Switch, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css'; // Components\n\nimport { useDispatch } from 'react-redux';\nimport Home from './pages/Home';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport RegisterComplete from './pages/auth/RegisterComplete';\nimport ForgotPassword from './pages/auth/ForgotPassword';\nimport Header from './components/nav/Header';\nimport { auth } from './firebase';\nimport { currentUser } from './functions/auth';\nimport History from './pages/user/History';\nimport Password from './pages/user/Password';\nimport Wishlist from './pages/user/Wishlist';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport UserRoute from './components/UserRoute';\nimport AdminRoute from './components/AdminRoute';\n\nfunction App() {\n  _s();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        currentUser(idTokenResult.token).then(res => {\n          console.log(res);\n          dispatch({\n            type: 'LOGGED_IN_USER',\n            payload: {\n              email: res.data.email,\n              name: res.data.name,\n              token: idTokenResult.token\n            }\n          });\n        }).catch(err => console.log(err));\n      }\n    }); // Cleanup\n\n    return () => unsubscribe();\n  }, []);\n  return /*#__PURE__*/$('div', {\n    className: 'App'\n  }, /*#__PURE__*/$(Header), /*#__PURE__*/$(ToastContainer), /*#__PURE__*/$(Switch, null, /*#__PURE__*/$(Route, {\n    path: '/',\n    exact: true,\n    component: Home\n  }), /*#__PURE__*/$(Route, {\n    path: '/login',\n    exact: true,\n    component: Login\n  }), /*#__PURE__*/$(Route, {\n    path: '/register',\n    exact: true,\n    component: Register\n  }), /*#__PURE__*/$(Route, {\n    path: '/register/complete',\n    exact: true,\n    component: RegisterComplete\n  }), /*#__PURE__*/$(Route, {\n    path: '/forgot/password',\n    exact: true,\n    component: ForgotPassword\n  }), /*#__PURE__*/$(UserRoute, {\n    path: '/user/history',\n    exact: true,\n    component: History\n  }), /*#__PURE__*/$(UserRoute, {\n    path: '/user/password',\n    exact: true,\n    component: Password\n  }), /*#__PURE__*/$(UserRoute, {\n    path: '/user/wishlist',\n    exact: true,\n    component: Wishlist\n  }), /*#__PURE__*/$(AdminRoute, {\n    path: '/admin/dashboard',\n    exact: true,\n    component: AdminDashboard\n  })));\n}\n\n_s(App, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/jonathann-gs/Documents/E-commerce/client/src/App.js"],"names":["createElement","$","useEffect","Switch","Route","ToastContainer","useDispatch","Home","Login","Register","RegisterComplete","ForgotPassword","Header","auth","currentUser","History","Password","Wishlist","AdminDashboard","UserRoute","AdminRoute","App","dispatch","unsubscribe","onAuthStateChanged","user","idTokenResult","getIdTokenResult","token","then","res","console","log","type","payload","email","data","name","catch","err","className","path","exact","component"],"mappings":"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","sourcesContent":["import { createElement as $, useEffect } from 'react'\n// RRD\nimport { Switch, Route } from 'react-router-dom'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.min.css'\n// Components\nimport { useDispatch } from 'react-redux'\nimport Home from './pages/Home'\nimport Login from './pages/auth/Login'\nimport Register from './pages/auth/Register'\nimport RegisterComplete from './pages/auth/RegisterComplete'\nimport ForgotPassword from './pages/auth/ForgotPassword'\nimport Header from './components/nav/Header'\nimport { auth } from './firebase'\nimport { currentUser } from './functions/auth'\nimport History from './pages/user/History'\nimport Password from './pages/user/Password'\nimport Wishlist from './pages/user/Wishlist'\nimport AdminDashboard from './pages/admin/AdminDashboard'\nimport UserRoute from './components/UserRoute'\nimport AdminRoute from './components/AdminRoute'\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult()\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            console.log(res)\n            dispatch({\n              type: 'LOGGED_IN_USER',\n              payload: {\n                email: res.data.email,\n                name: res.data.name,\n                token: idTokenResult.token,\n              },\n            })\n          })\n          .catch((err) => console.log(err))\n      }\n    })\n\n    // Cleanup\n    return () => unsubscribe()\n  }, [])\n  return $(\n    'div',\n    { className: 'App' },\n    $(Header),\n    $(ToastContainer),\n    $(\n      Switch,\n      null,\n      $(Route, { path: '/', exact: true, component: Home }),\n      $(Route, { path: '/login', exact: true, component: Login }),\n      $(Route, { path: '/register', exact: true, component: Register }),\n      $(Route, {\n        path: '/register/complete',\n        exact: true,\n        component: RegisterComplete,\n      }),\n      $(Route, {\n        path: '/forgot/password',\n        exact: true,\n        component: ForgotPassword,\n      }),\n      $(UserRoute, {\n        path: '/user/history',\n        exact: true,\n        component: History,\n      }),\n      $(UserRoute, {\n        path: '/user/password',\n        exact: true,\n        component: Password,\n      }),\n      $(UserRoute, {\n        path: '/user/wishlist',\n        exact: true,\n        component: Wishlist,\n      }),\n      $(AdminRoute, {\n        path: '/admin/dashboard',\n        exact: true,\n        component: AdminDashboard,\n      }),\n    ),\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}