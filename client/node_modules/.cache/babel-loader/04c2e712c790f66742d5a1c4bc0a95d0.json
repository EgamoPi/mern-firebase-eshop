{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport { createElement as $, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport { createCategory, getCategories, deleteCategory } from '../../../functions/category';\nimport AdminNav from '../../../components/nav/AdminNav';\n\nconst CategoryCreate = () => {\n  _s();\n\n  // State for form control\n  const [name, setName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [categories, setCategories] = useState([]); // Retrieve admin token\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  })); // Function to load categories and save it into the state\n\n  const loadCategories = () => {\n    getCategories().then(category => setCategories(category.data));\n  };\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    createCategory({\n      name\n    }, user.token).then(res => {\n      setLoading(false);\n      setName('');\n      toast.success(`\"${name}\" is created`);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err.response);\n      if (err.response.status === 400) toast.error(err.response.data.name);\n      setName('');\n    });\n  };\n\n  return /*#__PURE__*/$('div', {\n    className: 'container-fluid'\n  }, /*#__PURE__*/$('div', {\n    className: 'row'\n  }, /*#__PURE__*/$('div', {\n    className: 'col-md-2'\n  }, /*#__PURE__*/$(AdminNav)), /*#__PURE__*/$('div', {\n    className: 'col'\n  }, loading ? /*#__PURE__*/$('h4', {\n    className: 'text-danger'\n  }, 'Loading ...') : /*#__PURE__*/$('h4', null, 'Create Category'), /*#__PURE__*/$('form', {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/$('div', {\n    className: 'form-group'\n  }, /*#__PURE__*/$('label', null, 'Name'), /*#__PURE__*/$('input', {\n    className: 'form-control',\n    type: 'text',\n    onChange: e => setName(e.target.value),\n    value: name,\n    autoFocus: true,\n    required: true\n  }), /*#__PURE__*/$('br'), /*#__PURE__*/$('button', {\n    className: 'btn btn-outline-primary'\n  }, 'Save'))), /*#__PURE__*/$('br'), categories.map(c => /*#__PURE__*/$('div', {\n    className: 'alert alert-primary',\n    key: c.id\n  }, `${c.name} `, /*#__PURE__*/$('span', null, /*#__PURE__*/$(DeleteOutlined)), /*#__PURE__*/$(Link, {\n    to: `/admin/category/c.slug`\n  }, /*#__PURE__*/$('span', null, /*#__PURE__*/$(EditOutlined))))))));\n};\n\n_s(CategoryCreate, \"QiVKlLAWkwDs0dtqfNLIQ4940Ww=\", false, function () {\n  return [useSelector];\n});\n\n_c = CategoryCreate;\nexport default CategoryCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryCreate\");","map":{"version":3,"sources":["/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/category/CategoryCreate.js"],"names":["createElement","$","useState","useEffect","toast","useSelector","Link","DeleteOutlined","EditOutlined","createCategory","getCategories","deleteCategory","AdminNav","CategoryCreate","name","setName","loading","setLoading","categories","setCategories","user","state","loadCategories","then","category","data","handleSubmit","e","preventDefault","token","res","success","catch","err","console","log","response","status","error","className","onSubmit","type","onChange","target","value","autoFocus","required","map","c","key","id","to"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons'\nimport {\n  createCategory,\n  getCategories,\n  deleteCategory,\n} from '../../../functions/category'\nimport AdminNav from '../../../components/nav/AdminNav'\n\nconst CategoryCreate = () => {\n  // State for form control\n  const [name, setName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [categories, setCategories] = useState([])\n\n  // Retrieve admin token\n  const { user } = useSelector((state) => ({ ...state }))\n\n  // Function to load categories and save it into the state\n  const loadCategories = () => {\n    getCategories().then((category) => setCategories(category.data))\n  }\n\n  useEffect(() => {\n    loadCategories()\n  }, [])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    createCategory({ name }, user.token)\n      .then((res) => {\n        setLoading(false)\n        setName('')\n        toast.success(`\"${name}\" is created`)\n      })\n      .catch((err) => {\n        setLoading(false)\n        console.log(err.response)\n        if (err.response.status === 400) toast.error(err.response.data.name)\n        setName('')\n      })\n  }\n  return $(\n    'div',\n    { className: 'container-fluid' },\n    $(\n      'div',\n      { className: 'row' },\n      $('div', { className: 'col-md-2' }, $(AdminNav)),\n      $(\n        'div',\n        { className: 'col' },\n        loading\n          ? $('h4', { className: 'text-danger' }, 'Loading ...')\n          : $('h4', null, 'Create Category'),\n        $(\n          'form',\n          { onSubmit: handleSubmit },\n          $(\n            'div',\n            { className: 'form-group' },\n            $('label', null, 'Name'),\n            $('input', {\n              className: 'form-control',\n              type: 'text',\n              onChange: (e) => setName(e.target.value),\n              value: name,\n              autoFocus: true,\n              required: true,\n            }),\n            $('br'),\n            $('button', { className: 'btn btn-outline-primary' }, 'Save'),\n          ),\n        ),\n        $('br'),\n        categories.map((c) =>\n          $(\n            'div',\n            { className: 'alert alert-primary', key: c.id },\n            `${c.name} `,\n            $('span', null, $(DeleteOutlined)),\n            $(\n              Link,\n              { to: `/admin/category/c.slug` },\n              $('span', null, $(EditOutlined)),\n            ),\n          ),\n        ),\n      ),\n    ),\n  )\n}\nexport default CategoryCreate\n"]},"metadata":{},"sourceType":"module"}