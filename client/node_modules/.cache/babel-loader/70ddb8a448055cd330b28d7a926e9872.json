{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { createElement as $, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { Button } from 'antd';\nimport { MailOutlined, GoogleCircleFilled } from '@ant-design/icons';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { auth, googleAuthProvider } from '../../firebase';\n\nconst Login = ({\n  history\n}) => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n      const {\n        user\n      } = result;\n      const idTokenResult = await user.getIdTokenResult();\n      dispatch({\n        type: 'LOGGED_IN_USER',\n        payload: {\n          email: user.email,\n          token: idTokenResult.token\n        }\n      });\n      history.push('/');\n      toast.success('You are logged in');\n    } catch (error) {\n      console.log(error, loading);\n      toast.error(error.message);\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    auth.signInWithPopup(googleAuthProvider).then(async result => {\n      const {\n        user\n      } = result;\n      const idTokenResult = await user.getIdTokenResult();\n      dispatch({\n        type: 'LOGGED_IN_USER',\n        payload: {\n          email: user.email,\n          token: idTokenResult.token\n        }\n      });\n      history.push('/');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/$('div', {\n    className: 'container p-5'\n  }, /*#__PURE__*/$('div', {\n    className: 'row'\n  }, /*#__PURE__*/$('div', {\n    className: 'col-md-6 offset-md-3'\n  }, /*#__PURE__*/$('h4', null, 'Login'), /*#__PURE__*/$('form', null, /*#__PURE__*/$('div', {\n    className: 'group-control'\n  }, /*#__PURE__*/$('input', {\n    type: 'email',\n    className: 'form-control',\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    autoFocus: true\n  })), /*#__PURE__*/$('div', {\n    className: 'group-control'\n  }, /*#__PURE__*/$('input', {\n    type: 'password',\n    className: 'form-control',\n    value: password,\n    onChange: e => setPassword(e.target.value)\n  })), /*#__PURE__*/$('br'), /*#__PURE__*/$(Button, {\n    type: 'primary',\n    className: 'mb-3',\n    onClick: handleSubmit,\n    block: true,\n    shape: 'round',\n    icon: /*#__PURE__*/$(MailOutlined),\n    size: 'large',\n    disabled: !email || password.length < 6\n  }, 'Login with Email/Password'), /*#__PURE__*/$('br'), /*#__PURE__*/$(Button, {\n    type: 'danger',\n    className: 'mb-3',\n    onClick: handleGoogleLogin,\n    block: true,\n    shape: 'round',\n    icon: /*#__PURE__*/$(GoogleCircleFilled),\n    size: 'large'\n  }, 'Login with Google'), /*#__PURE__*/$(Link, {\n    to: '/forgot/password',\n    className: 'float-right text-danger'\n  }, 'Forgot Password')))));\n};\n\n_s(Login, \"hJiWnGeSjhwPN4voTdJKJMeg0v4=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/Login.js"],"names":["createElement","$","useState","toast","Button","MailOutlined","GoogleCircleFilled","useDispatch","Link","auth","googleAuthProvider","Login","history","email","setEmail","password","setPassword","loading","setLoading","dispatch","handleSubmit","e","preventDefault","result","signInWithEmailAndPassword","user","idTokenResult","getIdTokenResult","type","payload","token","push","success","error","console","log","message","handleGoogleLogin","signInWithPopup","then","catch","err","className","value","onChange","target","autoFocus","onClick","block","shape","icon","size","disabled","length","to"],"mappings":"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","sourcesContent":["import { createElement as $, useState } from 'react'\nimport { toast } from 'react-toastify'\nimport { Button } from 'antd'\nimport { MailOutlined, GoogleCircleFilled } from '@ant-design/icons'\nimport { useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { auth, googleAuthProvider } from '../../firebase'\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password)\n      const { user } = result\n      const idTokenResult = await user.getIdTokenResult()\n\n      dispatch({\n        type: 'LOGGED_IN_USER',\n        payload: {\n          email: user.email,\n          token: idTokenResult.token,\n        },\n      })\n      history.push('/')\n      toast.success('You are logged in')\n    } catch (error) {\n      console.log(error, loading)\n      toast.error(error.message)\n      setLoading(false)\n    }\n  }\n\n  const handleGoogleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result\n        const idTokenResult = await user.getIdTokenResult()\n        dispatch({\n          type: 'LOGGED_IN_USER',\n          payload: {\n            email: user.email,\n            token: idTokenResult.token,\n          },\n        })\n        history.push('/')\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return $(\n    'div',\n    { className: 'container p-5' },\n    $(\n      'div',\n      { className: 'row' },\n      $(\n        'div',\n        { className: 'col-md-6 offset-md-3' },\n        $('h4', null, 'Login'),\n        $(\n          'form',\n          null,\n          $(\n            'div',\n            { className: 'group-control' },\n            $('input', {\n              type: 'email',\n              className: 'form-control',\n              value: email,\n              onChange: (e) => setEmail(e.target.value),\n              autoFocus: true,\n            }),\n          ),\n          $(\n            'div',\n            { className: 'group-control' },\n            $('input', {\n              type: 'password',\n              className: 'form-control',\n              value: password,\n              onChange: (e) => setPassword(e.target.value),\n            }),\n          ),\n          $('br'),\n          $(\n            Button,\n            {\n              type: 'primary',\n              className: 'mb-3',\n              onClick: handleSubmit,\n              block: true,\n              shape: 'round',\n              icon: $(MailOutlined),\n              size: 'large',\n              disabled: !email || password.length < 6,\n            },\n            'Login with Email/Password',\n          ),\n          $('br'),\n          $(\n            Button,\n            {\n              type: 'danger',\n              className: 'mb-3',\n              onClick: handleGoogleLogin,\n              block: true,\n              shape: 'round',\n              icon: $(GoogleCircleFilled),\n              size: 'large',\n            },\n            'Login with Google',\n          ),\n          $(\n            Link,\n            { to: '/forgot/password', className: 'float-right text-danger' },\n            'Forgot Password',\n          ),\n        ),\n      ),\n    ),\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}