[{"/Users/jonathann-gs/Documents/E-commerce/client/src/index.js":"1","/Users/jonathann-gs/Documents/E-commerce/client/src/reportWebVitals.js":"2","/Users/jonathann-gs/Documents/E-commerce/client/src/App.js":"3","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/Home.js":"4","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/Register.js":"5","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/Login.js":"6","/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/Header.js":"7","/Users/jonathann-gs/Documents/E-commerce/client/src/firebase.js":"8","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/RegisterComplete.js":"9","/Users/jonathann-gs/Documents/E-commerce/client/src/utils/validation.js":"10","/Users/jonathann-gs/Documents/E-commerce/client/src/reducers/index.js":"11","/Users/jonathann-gs/Documents/E-commerce/client/src/reducers/userReducer.js":"12","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/ForgotPassword.js":"13","/Users/jonathann-gs/Documents/E-commerce/client/src/functions/auth.js":"14","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/History.js":"15","/Users/jonathann-gs/Documents/E-commerce/client/src/components/UserRoute.js":"16","/Users/jonathann-gs/Documents/E-commerce/client/src/components/LoadingToRedirect.js":"17","/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/UserNav.js":"18","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/Password.js":"19","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/Wishlist.js":"20","/Users/jonathann-gs/Documents/E-commerce/client/src/components/AdminRoute.js":"21","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/AdminDashboard.js":"22","/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/AdminNav.js":"23","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/category/CategoryCreate.js":"24","/Users/jonathann-gs/Documents/E-commerce/client/src/functions/category.js":"25","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/category/CategoryUpdate.js":"26","/Users/jonathann-gs/Documents/E-commerce/client/src/components/forms/CategoryForm.js":"27","/Users/jonathann-gs/Documents/E-commerce/client/src/components/forms/LocalSearch.js":"28","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/subcategory/SubCreate.js":"29","/Users/jonathann-gs/Documents/E-commerce/client/src/functions/subcategory.js":"30","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/subcategory/SubUpdate.js":"31"},{"size":592,"mtime":1620387405505,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":1620315134315,"results":"34","hashOfConfig":"35"},{"size":3381,"mtime":1620982702174,"results":"36","hashOfConfig":"33"},{"size":107,"mtime":1620378401410,"results":"37","hashOfConfig":"33"},{"size":1857,"mtime":1620823331498,"results":"38","hashOfConfig":"33"},{"size":5327,"mtime":1620903422606,"results":"39","hashOfConfig":"33"},{"size":1887,"mtime":1620824099848,"results":"40","hashOfConfig":"33"},{"size":556,"mtime":1620639036317,"results":"41","hashOfConfig":"33"},{"size":2729,"mtime":1620727895918,"results":"42","hashOfConfig":"33"},{"size":312,"mtime":1620384027646,"results":"43","hashOfConfig":"33"},{"size":175,"mtime":1620387379297,"results":"44","hashOfConfig":"33"},{"size":217,"mtime":1620387344538,"results":"45","hashOfConfig":"33"},{"size":1438,"mtime":1620645090283,"results":"46","hashOfConfig":"33"},{"size":861,"mtime":1620764877431,"results":"47","hashOfConfig":"33"},{"size":360,"mtime":1620740849065,"results":"48","hashOfConfig":"33"},{"size":388,"mtime":1620755531445,"results":"49","hashOfConfig":"33"},{"size":674,"mtime":1620740176047,"results":"50","hashOfConfig":"33"},{"size":659,"mtime":1620740923372,"results":"51","hashOfConfig":"33"},{"size":1808,"mtime":1620745462448,"results":"52","hashOfConfig":"33"},{"size":366,"mtime":1620743710485,"results":"53","hashOfConfig":"33"},{"size":864,"mtime":1620755514768,"results":"54","hashOfConfig":"33"},{"size":378,"mtime":1620823903514,"results":"55","hashOfConfig":"33"},{"size":1244,"mtime":1620823778635,"results":"56","hashOfConfig":"33"},{"size":3627,"mtime":1620886091124,"results":"57","hashOfConfig":"33"},{"size":1255,"mtime":1620898293512,"results":"58","hashOfConfig":"33"},{"size":1811,"mtime":1620848900362,"results":"59","hashOfConfig":"33"},{"size":568,"mtime":1620848752923,"results":"60","hashOfConfig":"33"},{"size":470,"mtime":1620850211909,"results":"61","hashOfConfig":"33"},{"size":4484,"mtime":1620982542088,"results":"62","hashOfConfig":"33"},{"size":1457,"mtime":1620983759500,"results":"63","hashOfConfig":"33"},{"size":2979,"mtime":1620984014878,"results":"64","hashOfConfig":"33"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},"1nj6xhf",{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7bbn4e",{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"67"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"67"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"67"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"67"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"67"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"67"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/jonathann-gs/Documents/E-commerce/client/src/index.js",[],["134","135","136","137","138"],"/Users/jonathann-gs/Documents/E-commerce/client/src/reportWebVitals.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/App.js",["139"],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/Home.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/Register.js",["140"],"import { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { useSelector } from 'react-redux'\nimport { auth } from '../../firebase'\n\nconst Register = ({ history }) => {\n  const [email, setEmail] = useState('')\n\n  const userState = useSelector((state) => ({ ...state }))\n\n  // When component mount check if user is not already logged in, if he is, redirect him to '/'\n  useEffect(\n    () => {\n      if (userState.user && userState.user.token) history.push('/')\n    },\n    [userState.user],\n    [],\n  )\n\n  const handleSubmit = async (e) => {\n    try {\n      e.preventDefault()\n      const config = {\n        url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n        handleCodeInApp: true,\n      }\n\n      await auth.sendSignInLinkToEmail(email, config)\n      toast.success(\n        `Email is send to ${email}. Click the link to complete registration`,\n      )\n\n      // Save user email in localStorage\n      window.localStorage.setItem('emailForRegistration', email)\n\n      // Clear state\n      setEmail('')\n    } catch (error) {\n      console.log(error)\n      setEmail('')\n    }\n  }\n  return $(\n    'div',\n    { className: 'container p-5' },\n    $(\n      'div',\n      { className: 'row' },\n      $(\n        'div',\n        { className: 'col-md-6 offset-md-3' },\n        $('h4', null, 'Register'),\n        $('h6', null, 'Register Form'),\n        $(\n          'form',\n          { onSubmit: handleSubmit },\n          $('input', {\n            type: 'email',\n            className: 'form-control',\n            value: email,\n            onChange: (e) => setEmail(e.target.value),\n            autoFocus: true,\n          }),\n\n          $(\n            'button',\n            { type: 'submit', className: 'btn btn-raiser' },\n            'Register',\n          ),\n        ),\n      ),\n    ),\n  )\n}\n\nexport default Register\n","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/Login.js",["141","142","143","144"],"import { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { Button } from 'antd'\nimport { MailOutlined, GoogleCircleFilled } from '@ant-design/icons'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { auth, googleAuthProvider } from '../../firebase'\nimport { createOrUpdateUser } from '../../functions/auth'\n\nconst Login = ({ history }) => {\n  // Declaring states for form control\n  const [email, setEmail] = useState('j.sekretev@icloud.com')\n  const [password, setPassword] = useState('bye1234')\n  const [loading, setLoading] = useState(false)\n\n  // Retrieving data from redux store\n  const dispatch = useDispatch()\n  const userState = useSelector((state) => ({ ...state }))\n\n  // When component mount check if user is not already logged in, if he is, redirect him to '/'\n  useEffect(\n    () => {\n      if (userState.user && userState.user.token) history.push('/')\n    },\n    [userState.user],\n    [],\n  )\n\n  // Function to redirect user depending on his role\n  const roleBaseRedirect = (res) => {\n    if (res.data.role === 'admin') {\n      history.push('/admin/dashboard')\n    } else {\n      history.push('/user/history')\n    }\n  }\n\n  // Handling function on form submit (email & password)\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password) // 1) Log in user with firebase\n      const { user } = result\n      const idTokenResult = await user.getIdTokenResult() // 2) To retrieve his token\n\n      // 3) Backend call to create or update a user in MongoDB based on his token\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          // 4a) If response exist we dispatch user info to the store and redirect him according to his role\n          dispatch({\n            type: 'LOGGED_IN_USER',\n            payload: {\n              email: res.data.email,\n              name: res.data.name,\n              role: res.data.role,\n              token: idTokenResult.token,\n            },\n          })\n          roleBaseRedirect(res)\n        })\n        .catch((err) => console.log(err))\n\n      toast.success('You are logged in') // 4b) Notify user that he is logged in\n    } catch (error) {\n      console.log(error, loading)\n      toast.error(error.message)\n      setLoading(false)\n    }\n  }\n\n  // Handling function on form submit (Google auth)\n  const handleGoogleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider) // 1) open a new tab to login with gmail account\n      .then(async (result) => {\n        const { user } = result\n        const idTokenResult = await user.getIdTokenResult() // 2 Retrieve user token\n\n        // 3) Backend call to create or update a user in MongoDB based on his token\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            // 4a) If response exist we dispatch user info to the store and redirect him according to his role\n            dispatch({\n              type: 'LOGGED_IN_USER',\n              payload: {\n                email: res.data.email,\n                name: res.data.name,\n                role: res.data.role,\n                token: idTokenResult.token,\n              },\n            })\n            roleBaseRedirect(res)\n          })\n          .catch((err) => console.log(err))\n      })\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n  return $(\n    'div',\n    { className: 'container p-5' },\n    $(\n      'div',\n      { className: 'row' },\n      $(\n        'div',\n        { className: 'col-md-6 offset-md-3' },\n        $('h4', null, 'Login'),\n        $(\n          'form',\n          null,\n          $(\n            'div',\n            { className: 'group-control' },\n            $('input', {\n              type: 'email',\n              className: 'form-control',\n              value: email,\n              onChange: (e) => setEmail(e.target.value),\n              autoFocus: true,\n            }),\n          ),\n          $(\n            'div',\n            { className: 'group-control' },\n            $('input', {\n              type: 'password',\n              className: 'form-control',\n              value: password,\n              onChange: (e) => setPassword(e.target.value),\n            }),\n          ),\n          $('br'),\n          $(\n            Button,\n            {\n              type: 'primary',\n              className: 'mb-3',\n              onClick: handleSubmit,\n              block: true,\n              shape: 'round',\n              icon: $(MailOutlined),\n              size: 'large',\n              disabled: !email || password.length < 6,\n            },\n            'Login with Email/Password',\n          ),\n          $('br'),\n          $(\n            Button,\n            {\n              type: 'danger',\n              className: 'mb-3',\n              onClick: handleGoogleLogin,\n              block: true,\n              shape: 'round',\n              icon: $(GoogleCircleFilled),\n              size: 'large',\n            },\n            'Login with Google',\n          ),\n          $(\n            Link,\n            { to: '/forgot/password', className: 'float-right text-danger' },\n            'Forgot Password',\n          ),\n        ),\n      ),\n    ),\n  )\n}\n\nexport default Login\n","/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/Header.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/firebase.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/RegisterComplete.js",["145"],"import { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { useDispatch /* useSelector */ } from 'react-redux'\nimport { auth } from '../../firebase'\nimport { registrationValidation } from '../../utils/validation'\nimport { createOrUpdateUser } from '../../functions/auth'\n\nconst RegisterComplete = ({ history }) => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const dispatch = useDispatch()\n  // const userState = useSelector((state) => ({ ...state }))\n\n  useEffect(() => {\n    setEmail(window.localStorage.getItem('emailForRegistration'))\n  }, [])\n\n  const handleSubmit = async (e) => {\n    try {\n      e.preventDefault()\n      if (registrationValidation(email, password) === 0) {\n        return\n      }\n      const result = await auth.signInWithEmailLink(email, window.location.href)\n      if (result.user.emailVerified) {\n        // Remove user email from local storage\n        window.localStorage.removeItem('emailForRegistration')\n        // Get user id token\n        const user = auth.currentUser\n        await user.updatePassword(password)\n        const idTokenResult = await user.getIdTokenResult()\n        // Redux store\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: 'LOGGED_IN_USER',\n              payload: {\n                email: res.data.email,\n                name: res.data.name,\n                token: idTokenResult.token,\n              },\n            })\n          })\n          .catch((err) => console.log(err))\n        // Redirect\n        history.push('/')\n      }\n      toast.success(`Registration Completed`)\n    } catch (error) {\n      toast.error(error.message)\n    }\n  }\n  return $(\n    'div',\n    { className: 'container p-5' },\n    $(\n      'div',\n      { className: 'row' },\n      $(\n        'div',\n        { className: 'col-md-6 offset-md-3' },\n        $('h4', null, 'Register'),\n        $('h6', null, 'Register Form'),\n        $(\n          'form',\n          { onSubmit: handleSubmit },\n          $('input', {\n            type: 'email',\n            className: 'form-control',\n            value: email,\n            autoFocus: true,\n            disabled: true,\n          }),\n          $('input', {\n            type: 'password',\n            className: 'form-control',\n            value: password,\n            onChange: (e) => setPassword(e.target.value),\n            autoFocus: true,\n            placeholder: 'password',\n          }),\n\n          $(\n            'button',\n            { type: 'submit', className: 'btn btn-raiser' },\n            'Register',\n          ),\n        ),\n      ),\n    ),\n  )\n}\n\nexport default RegisterComplete\n","/Users/jonathann-gs/Documents/E-commerce/client/src/utils/validation.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/reducers/index.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/reducers/userReducer.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/auth/ForgotPassword.js",["146"],"import { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { useSelector } from 'react-redux'\nimport { auth } from '../../firebase'\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState('')\n\n  const { user } = useSelector((state) => ({ ...state }))\n\n  useEffect(() => {\n    if (user && user.token) history.push('/')\n  }, [user])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true,\n    }\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n        setEmail('')\n        toast.success('Password Reset Link sent')\n      })\n      .catch((err) => {\n        console.log(err)\n        toast.error(err.message)\n      })\n  }\n\n  return $(\n    'div',\n    { className: 'container col-md-6 offset-md-3 p-5' },\n    $('h4', null, 'Forgot Password ?'),\n    $(\n      'form',\n      { onSubmit: handleSubmit },\n      $('input', {\n        type: 'email',\n        className: 'form-control',\n        value: email,\n        onChange: (e) => setEmail(e.target.value),\n        placeholder: 'Enter your e-mail',\n        autoFocus: true,\n      }),\n      $('br'),\n      $(\n        'button',\n        { className: 'btn btn-raised', disabled: !email, type: 'submit' },\n        'Reset Password',\n      ),\n    ),\n  )\n}\n\nexport default ForgotPassword\n","/Users/jonathann-gs/Documents/E-commerce/client/src/functions/auth.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/History.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/UserRoute.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/LoadingToRedirect.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/UserNav.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/Password.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/user/Wishlist.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/AdminRoute.js",["147","148"],"import { createElement as $, useEffect, useState } from 'react'\nimport { Route } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport LoadingToRedirect from './LoadingToRedirect'\nimport { currentAdmin } from '../functions/auth'\n\nconst AdminRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }))\n  const [ok, setOk] = useState(false)\n\n  // We check if user is in redux store and if he is flagged as admin\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token)\n        .then((res) => {\n          console.log('Current Admin: ', res)\n          setOk(true)\n        })\n        .catch((err) => {\n          console.log('Admin Route Err:', err)\n          setOk(false)\n        })\n    }\n  }, [user])\n\n  return ok ? $(Route, { ...rest }) : $(LoadingToRedirect)\n}\n\nexport default AdminRoute\n","/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/AdminDashboard.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/nav/AdminNav.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/category/CategoryCreate.js",["149","150"],"/* eslint-disable no-unused-vars */\n/* eslint-disable no-underscore-dangle */\nimport { createElement as $, useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons'\nimport {\n  createCategory,\n  getCategories,\n  deleteCategory,\n} from '../../../functions/category'\nimport AdminNav from '../../../components/nav/AdminNav'\nimport CategoryForm from '../../../components/forms/CategoryForm'\nimport LocalSearch from '../../../components/forms/LocalSearch'\n\nconst CategoryCreate = () => {\n  // State for form control\n  const [name, setName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [categories, setCategories] = useState([])\n\n  // State for filtering\n  const [keyword, setKeyword] = useState('')\n\n  // Retrieve admin token\n  const { user } = useSelector((state) => ({ ...state }))\n\n  // Function to load categories and save it into the state\n  const loadCategories = () => {\n    getCategories().then((category) => setCategories(category.data))\n  }\n\n  useEffect(() => {\n    loadCategories()\n  }, [])\n\n  const handleSearchChange = (e) => {\n    e.preventDefault()\n    setKeyword(e.target.value.toLowerCase())\n  }\n\n  const searched = (kword) => (c) => c.name.toLowerCase().includes(kword)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    createCategory({ name }, user.token)\n      .then((res) => {\n        setLoading(false)\n        setName('')\n        toast.success(`\"${name}\" is created`)\n        loadCategories()\n      })\n      .catch((err) => {\n        setLoading(false)\n        console.log(err.response)\n        if (err.response.status === 400) toast.error(err.response.data.name)\n        setName('')\n      })\n  }\n\n  const handleRemove = async (slug) => {\n    if (window.confirm('Delete')) {\n      setLoading(true)\n      deleteCategory(slug, user.token)\n        .then((res) => {\n          setLoading(false)\n          toast.error(`${res.data.name} deleted !`)\n          loadCategories()\n        })\n        .catch((err) => {\n          if (err.response.status === 400) {\n            setLoading(false)\n            toast.error(err.response.data.name)\n          }\n        })\n    }\n  }\n  return $(\n    'div',\n    { className: 'container-fluid' },\n    $(\n      'div',\n      { className: 'row' },\n      $('div', { className: 'col-md-2' }, $(AdminNav)),\n      $(\n        'div',\n        { className: 'col' },\n        loading\n          ? $('h4', { className: 'text-danger' }, 'Loading ...')\n          : $('h4', null, 'Create Category'),\n        $(CategoryForm, {\n          handleSubmit,\n          name,\n          setName,\n        }),\n        $(LocalSearch, {\n          keyword,\n          setKeyword,\n        }),\n        $('br'),\n        categories.filter(searched(keyword)).map((c) =>\n          $(\n            'div',\n            { className: 'alert alert-primary', key: c._id },\n            `${c.name} `,\n            $(\n              'span',\n              {\n                className: 'btn btn-sm float-right',\n                onClick: () => handleRemove(c.slug),\n              },\n              $(DeleteOutlined, { className: 'text-danger' }),\n            ),\n            $(\n              Link,\n              { to: `/admin/category/${c.slug}` },\n              $(\n                'span',\n                { className: 'btn btn-sm float-right' },\n                $(EditOutlined, { className: 'text-warning' }),\n              ),\n            ),\n          ),\n        ),\n      ),\n    ),\n  )\n}\nexport default CategoryCreate\n","/Users/jonathann-gs/Documents/E-commerce/client/src/functions/category.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/category/CategoryUpdate.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/forms/CategoryForm.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/components/forms/LocalSearch.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/subcategory/SubCreate.js",["151","152"],"/Users/jonathann-gs/Documents/E-commerce/client/src/functions/subcategory.js",[],"/Users/jonathann-gs/Documents/E-commerce/client/src/pages/admin/subcategory/SubUpdate.js",["153"],{"ruleId":"154","replacedBy":"155"},{"ruleId":"156","replacedBy":"157"},{"ruleId":"158","replacedBy":"159"},{"ruleId":"160","replacedBy":"161"},{"ruleId":"162","replacedBy":"163"},{"ruleId":"164","severity":1,"message":"165","line":46,"column":27,"nodeType":"166","messageId":"167","endLine":46,"endColumn":38},{"ruleId":"164","severity":1,"message":"165","line":39,"column":7,"nodeType":"166","messageId":"167","endLine":39,"endColumn":18},{"ruleId":"164","severity":1,"message":"165","line":62,"column":25,"nodeType":"166","messageId":"167","endLine":62,"endColumn":36},{"ruleId":"164","severity":1,"message":"165","line":66,"column":7,"nodeType":"166","messageId":"167","endLine":66,"endColumn":18},{"ruleId":"164","severity":1,"message":"165","line":95,"column":27,"nodeType":"166","messageId":"167","endLine":95,"endColumn":38},{"ruleId":"164","severity":1,"message":"165","line":98,"column":9,"nodeType":"166","messageId":"167","endLine":98,"endColumn":22},{"ruleId":"164","severity":1,"message":"165","line":45,"column":27,"nodeType":"166","messageId":"167","endLine":45,"endColumn":38},{"ruleId":"164","severity":1,"message":"165","line":29,"column":9,"nodeType":"166","messageId":"167","endLine":29,"endColumn":20},{"ruleId":"164","severity":1,"message":"165","line":16,"column":11,"nodeType":"166","messageId":"167","endLine":16,"endColumn":22},{"ruleId":"164","severity":1,"message":"165","line":20,"column":11,"nodeType":"166","messageId":"167","endLine":20,"endColumn":22},{"ruleId":"164","severity":1,"message":"165","line":57,"column":9,"nodeType":"166","messageId":"167","endLine":57,"endColumn":20},{"ruleId":"168","severity":1,"message":"169","line":64,"column":9,"nodeType":"170","messageId":"167","endLine":64,"endColumn":33},{"ruleId":"164","severity":1,"message":"165","line":64,"column":9,"nodeType":"166","messageId":"167","endLine":64,"endColumn":20},{"ruleId":"168","severity":1,"message":"169","line":71,"column":9,"nodeType":"170","messageId":"167","endLine":71,"endColumn":33},{"ruleId":"164","severity":1,"message":"165","line":54,"column":9,"nodeType":"166","messageId":"167","endLine":54,"endColumn":20},"lines-around-directive",["171"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"no-console","Unexpected console statement.","MemberExpression","unexpected","no-alert","Unexpected confirm.","CallExpression","padding-line-between-statements"]